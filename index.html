<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>예술 성향 테스트</title>
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,200,0,0" />
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/component.css">
</head>
<body class="overflow-hidden">
    <div class="wrap">
        <div class="content">
            <header>
                <div class="title">
                    <h1 class="neon_text">예술 성향 테스트</h1>
                    <h2 class="neon_text">오직 당신만을 위한 예술 작품을 찾아갈 작은 카페</h2>
                </div>
                <div class="start">
                    <a href="#s1"><button class="neon_btn neon_text" id="start_btn">시작하기</button></a>
                    <p class="participants neon_text">지금까지 총 <span>13832323</span>명이 참여했어요</p>
                    <span class="banzia">Banzia Art</span>
                </div>
            </header>
            <main>
                <div>
                    <audio autoplay loop id="bgm">
                        <source src="/audio/bgm.mp3" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                    <div class="bgm_ctrl bgm-on hide">
                        <span class="material-symbols-outlined" id="bgm-on">music_note</span>
                        <span class="material-symbols-outlined" id="bgm-off">music_off</span>
                    </div>
            
                    <!-- <button id="submit" onclick="submit()">submit</button>
                    <button id="scrollLock">scroll lock</button>
                    <div id="score-board">
                        <h1>score</h1>
                        <p>01: <span>0</span></p>
                        <p>02: <span>0</span></p>
                        <p>03: <span>0</span></p>
                        <p>04: <span>0</span></p>
                        <p>05: <span>0</span></p>
                        <p>06: <span>0</span></p>
                        <p>07: <span>0</span></p>
                        <p>08: <span>0</span></p>
                        <p>09: <span>0</span></p>
                        <p>10: <span>0</span></p>
                        <p>11: <span>0</span></p>
                        <p>12: <span>0</span></p>
                        <p>13: <span>0</span></p>
                        <p>14: <span>0</span></p>
                        <p>15: <span>0</span></p>
                        <p>16: <span>0</span></p>
                        <p>17: <span>0</span></p>
                        <p>18: <span>0</span></p>
                    </div> -->
                </div>
        
                <div class="sections">
                    <section id="s1">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/street_1.jpg" />
                            </div>
                        </div>
                        <div class="q" id="q1" data-aos="fade-up">
                            <p>해질녘이 되어서야 일과를 마치고 걸어서 집으로 돌아가고 있다. 최근 들어 미래에 대한 불안도 커지고 내가 무슨 일을 하고 싶은 건지, 지금 하고 있는 일은 잘 하고 있는 것인지 모르겠다.<br>
                            막연한 고민들은 잠시 접어두고 당장 집에 가서 할 일부터 계획해본다.</p>
                            <h2>Q. 집에 돌아가서 뭐하지?</h2>
                            <ul>
                                <li><div class="ans1">침대가 최고야, 누워서 쉰다.</div></li>
                                <li><div class="ans2">TV로 뉴스부터 틀어놓는다.</div></li>
                                <li><div class="ans3">간만에 혼술을 한다.</div></li>
                                <li><div class="ans4">친구와 전화로 수다를 떤다.</div></li>
                            </ul>
                        </div>
                    </section>
                    <section id="s2">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/street_2.jpg" />
                            </div>
                        </div>
                        <div class="q" id="q2" data-aos="fade-up">
                            <p>집에서 할 일을 상상하니 조금은 기분이 나아졌다.<br>
                            어느덧 집 근처 골목길까지 왔다. 골목에 들어서니 거리의 소음이 사라지고 점차 고요해진다. 집으로 돌아가는 길의 적막함을 채워줄 오늘의 BGM이 필요한 순간이다.</p>
                            <h2>Q. 어떤 음악을 들을까?</h2>
                            <ul>
                                <li><div class="ans1">추억에 젖게 할 레트로 음악</div></li>
                                <li><div class="ans2">저녁에 어울리는 잔잔한 노래</div></li>
                                <li><div class="ans3">분위기를 바꿔줄 신나는 밴드 음악</div></li>
                                <li><div class="ans4">편안한 자연 ASMR</div></li>
                            </ul>
                        </div>
                    </section>
                    <section id="s3">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/stair.jpg" />
                            </div>
                        </div>
                        <div class="q" id="q3" data-aos="fade-up">
                            <p>내 플레이리스트가 끝나갈 무렵, 매일 지나던 골목 한 편에서 그동안 못 본 것인지 아니면 새로 생긴 것인지 모를 계단이 보인다. 반지하로 통하는 계단인 거 같다. 계단 아래에서 따뜻한 네온 불빛이 새어나오고 있다. 반복되는 일상에 새로움이 필요했던 건지 순전한 호기심이었는지 그 분위기에 시선이 머문다.</p>
                            <h2>Q. 계단을 바라보는 당신</h2>
                            <ul>
                                <li><div class="ans1">낯선 공간에 들어갈 생각에 긴장된다.</div></li>
                                <li><div class="ans2">별로 궁금하진 않지만 다가가 본다.</div></li>
                                <li><div class="ans3">간만의 새로운 발견에 설렌다.</div></li>
                                <li><div class="ans4">무섭지만 궁금함을 이기지 못하고 다가간다.</div></li>
                            </ul>
                        </div>
                    </section>
                    <section id="s4">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/stair.jpg" />
                            </div>
                        </div>
                        <div class="d" data-aos="fade-up">
                            <p>입구에 가까이 다가가니 지하로 내려가는 계단 양옆의 벽에서 은은하게 빛나는 조명이 따뜻하면서도 신비로운 느낌을 자아낸다. 계단의 끝에 있는 ‘반지하 카페’라는 네온 사인이 눈에 들어온다. 천천히 발걸음을 내딛고 한칸씩 아래로 내려간다. 오랜만에 느껴보는 두근거림이다.</p>
                            <div class="move-to-next">
                                <p class="neon_text" data-aos="fade-in" data-aos-offset="-100" data-aos-delay="1800">터치해서 넘어가기</p>
                            </div>
                        </div>
                    </section>
                    <section id="s5">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/cafe_1.jpg" />
                            </div>
                        </div>
                        <div class="q" id="q4" data-aos="fade-up">
                            <p>문을 열고 카페에 들어서니 일반적인 카페에서 나는 커피향은 나지 않고 조금은 낯설지만 기분 좋은 향기가 난다. 그리 넓지 않은 카페에 손님은 아무도 없다. 벽에는 개성 있는 그림들이 걸려 있는데 카페에 왔다기 보다 비밀 전시장에 온 느낌이다.</p>
                            <h2>Q. 카페에 처음 들어온 직후</h2>
                            <ul>
                                <li><div class="ans1">바로 카운터로 향한다.</div></li>
                                <li><div class="ans2">카페 구석구석을 둘러본다.</div></li>
                                <li><div class="ans3">인스타에 올릴 사진부터 찍는다.</div></li>
                                <li><div class="ans4">일단 자리에 앉는다.</div></li>
                            </ul>
                        </div>
                    </section>
                    <section id="s6">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/cafe_1.jpg" />
                            </div>
                        </div>
                        <div class="q img" id="q5" data-aos="fade-up">
                            <p>카페에는 손님뿐만 아니라 바리스타나 매니저도 보이지 않아 잠시 주변을 둘러보다 벽에 걸려있는 그림 한 점이 눈에 들어온다.</p>
                            <h2>Q. 가장 눈에 들어오는 그림은</h2>
                            <ul>
                                <li><div class="ans1"><img src="/img/q/q5-1.jpg"></div></li>
                                <li><div class="ans2"><img src="/img/q/q5-2.jpg"></div></li>
                                <li><div class="ans3"><img src="/img/q/q5-3.jpg"></div></li>
                                <li><div class="ans4"><img src="/img/q/q5-4.jpg"></div></li>
                            </ul>
                        </div>
                    </section>
                    <section id="s7">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/phone.jpg" />
                            </div>
                        </div>
                        <div class="q" id="q6" data-aos="fade-up">
                            <p>한동안 가만히 선채로 그림을 바라보았다. 카페의 신비로운 분위기 때문인지 그림이 나에게 어떤 말을 건내려는 것처럼 보였다. 나는 점점 그림에 빠져들어갔다.<br>
                            그때 주머니에서 진동이 울렸다. 애인의 문자다</p>
                            <h2>Q. 주말에 영화보고 나서 하고 싶은 거 있어?</h2>
                            <ul>
                                <li><div class="ans1">날씨도 좋은데 밖에서 신나게 놀고 싶다.</div></li>
                                <li><div class="ans2">맛있는 거 먹고 싶다.</div></li>
                                <li><div class="ans3">사람 없는 곳 가서 한적하게 있고 싶어.</div></li>
                                <li><div class="ans4">난 우주로 가고 싶어</div></li>
                            </ul>
                        </div>
                    </section>
                    <section id="s8">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/street.jpg" />
                            </div>
                        </div>
                        <div class="q" id="q7" data-aos="fade-up">
                            <p>“어서오세요~"<br>
                            문 열리는 소리가 들려 그쪽을 바라보니 카운터 안쪽에서 페인트로 얼룩진 작업용 앞치마를 입은 사람이 문을 열고 나온다. 옷으로만 봐서는 화가인지 매니저인지 모르겠다.<br>
                            나는 홀린듯 바처럼 보이는 카운터 앞에 앉는다.</p>
                            <h2>Q. 카페 매니저를 본 당신</h2>
                            <ul>
                                <li><div class="ans1">“카페 분위기가 좋네요!” 인사를 건낸다.</div></li>
                                <li><div class="ans2">“여기가 그 반지하 카페인가요?!”  알고 온 척을 한다.</div></li>
                                <li><div class="ans3">“여긴 무슨 카페에요?” 궁금한 것을 질문한다.</div></li>
                                <li><div class="ans4">“...” 아무 말도 하지 않는다.</div></li>
                            </ul>
                        </div>
                    </section>
                    <section id="s9">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/street.jpg" />
                            </div>
                        </div>
                        <div class="q" id="q8" data-aos="fade-up">
                            <p>그는 이곳이 누구든 쉬어갈 수 있는 곳이라고 소개했다. 나는 쉬어간다는 게 무슨 의미인지 의아한 마음에 카페의 메뉴를 물었다. 그는 메뉴는 정해져있지 않다며 음료를 먼저 권했다.</p>
                            <h2>Q. “마실 건 뭐로 드릴까요? 술? 아니면 커피?”</h2>
                            <ul>
                                <li><div class="ans1">“데킬라 원 샷!”</div></li>
                                <li><div class="ans2">“맥주로 부탁드릴게요!”</div></li>
                                <li><div class="ans3">“커피가 좋겠어요.”</div></li>
                                <li><div class="ans4">“마실건 괜찮습니다.”</div></li>
                            </ul>
                        </div>
                    </section>
                    <section id="s10">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/street.jpg" />
                            </div>
                        </div>
                        <div class="d" data-aos="fade-up">
                            <p>그는 음료와 함께 메뉴판처럼 보이는 종이를 건냈다. 그러나 메뉴는 단 하나도 적혀있지 않았다.</p>
                            <div class="move-to-next">
                                <p class="neon_text" data-aos="fade-in" data-aos-offset="-100" data-aos-delay="1800">터치해서 넘어가기</p>
                            </div>
                        </div>
                    </section>
                    <section id="s11">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/wooden-pattern.jpg " />
                            </div>
                        </div>
                        <div class="menu">
                            <div class="viewport">
                                <div class="content">
                                    <div>
                                        <div class="menu_title">
                                            <h2><span>Me</span>nu</h2>
                                            <h3>about Me</h3>
                                            <p>해당하는 항목에 표시해주세요.</p>
                                        </div>
                                        <form class="ac-custom ac-chechbox ac-checkmark">
                                            <ul>
                                                <li>
                                                    <input type="checkbox" id="menu-q1" name="menu-q1" value="01">
                                                    <label for="menu-q1">비유하며 이야기하는 것에 익숙합니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q2" name="menu-q2" value="02">
                                                    <label for="menu-q2">꿈을 자주 꾸는 편입니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q3" name="menu-q3" value="03">
                                                    <label for="menu-q3">기존의 규칙을 그대로 따르는 것을 선호하지 않습니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q4" name="menu-q4" value="04">
                                                    <label for="menu-q4">상대방의 고민을 들었을 때 조언보다는 공감을 먼저 하는 편입니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q5" name="menu-q5" value="05">
                                                    <label for="menu-q5">내가 겪은 일을 남에게 말하는 것을 좋아합니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q6" name="menu-q6" value="06">
                                                    <label for="menu-q6">감정을 주체하지 못하는 경우가 있습니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q7" name="menu-q7" value="07">
                                                    <label for="menu-q7">누군가를 사랑하는척 연기해본 적 있습니다. 혹은 사랑하는 척하는 거 같은 사람을 경험한 적이 있습니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q8" name="menu-q8" value="08">
                                                    <label for="menu-q8">불안함 때문에 반복적으로 하는 행동이 있습니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q9" name="menu-q9" value="09">
                                                    <label for="menu-q9">일주일에 한 번 이상 수기로 일기를 씁니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q10" name="menu-q10" value="10">
                                                    <label for="menu-q10">제대로 휴식을 취해 본지 한 달 이상 지났습니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q11" name="menu-q11" value="11">
                                                    <label for="menu-q11">친구를 만나고 집에 돌아왔을 때 공허함을 느낍니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q12" name="menu-q12" value="12">
                                                    <label for="menu-q12">힘들 일이 있을 때 다른 사람에게 의지하기보다 스스로 이겨내려 합니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q13" name="menu-q13" value="13">
                                                    <label for="menu-q13">나의 전생 모습을 상상해본 적 있습니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q14" name="menu-q14" value="14">
                                                    <label for="menu-q14">종종 자신의 존재 이유에 대해 고민합니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q15" name="menu-q15" value="15">
                                                    <label for="menu-q15">관심 있는 사회 문제가 있습니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q16" name="menu-q16" value="16">
                                                    <label for="menu-q16">일탈이 하고 싶습니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q17" name="menu-q17" value="17">
                                                    <label for="menu-q17">종종 사람들과 같이 있지만 혼자라는 느낌을 받습니다.</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" id="menu-q18" name="menu-q18" value="18">
                                                    <label for="menu-q18">무언가를 시작한 뒤에 끝 맺는 것이 어렵습니다.</label>
                                                </li>
                                            </ul>
                                            <button>주문하기</button>
                                        </form>
                                        <div class="menu_bg">
                                            <div class="corner left-top"></div>
                                            <div class="corner right-top"></div>
                                            <div class="corner left-bottom"></div>
                                            <div class="corner right-bottom"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section id="s12">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/street.jpg" />
                            </div>
                        </div>
                        <div class="d" data-aos="fade-up">
                            <p>지금의 상황이 어딘가 의심스럽기도 하지만 나는 간만의 두근거림을 내 의지로 멈출 생각이 없다. 나에 대해 묻는 질문을 모두 마치고 미심쩍다는 생각과 설렘이 뒤섞인 자세로 메뉴판을 살짝 밀어 건낸다. 그 사람은 딱 맞는 메뉴를 가져다줄 테니 잠시만 기다려 달라는 말과 함께 사라진다. 나에게 가장 맞는 메뉴라는 게 무엇일까?</p>
                            <div class="move-to-next">
                                <p class="neon_text" data-aos="fade-in" data-aos-offset="-100" data-aos-delay="1800">터치해서 넘어가기</p>
                            </div>
                        </div>
                    </section>
                    <section id="s13">
                        <div class="content">
                            <div class="img_wrap">
                                <img src="/img/bg/phone.jpg" />
                            </div>
                        </div>
                        <div class="q last_q" id="q9" data-aos="fade-up">
                            <p>그를 기다리는 동안 자리에서 주말에 볼 영화를 예매 하기로 했다.</p>
                            <h2>Q. 내가 예매할 영화는</h2>
                            <ul>
                                <li><div class="ans1">보고 싶은 영화가 없다. 아무 영화나 고른다.</div></li>
                                <li><div class="ans2">힐링 영화를 본다.</div></li>
                                <li><div class="ans3">공포 영화를 본다.</div></li>
                                <li><div class="ans4">어렸을 때 봤던 재개봉한 영화를 본다.</div></li>
                            </ul>
                        </div>
                    </section>
                    <section id="s14" class="loading_section">
                        <div class="content wait_bg">
                            <div class="filter"></div>
                        </div>
                        <div class="wait_text">
                            <h1 class="neon_text">당신을 위한 작품을 찾고 있습니다</h1>
                        </div>
                    </section>
                    <div class="bumper"></div>
                </div>
            </main>
        </div>

        <!-- 카카오 애드핏 -->
        <div class="bottom-cover"></div>
        <div class="ad-bottom">
            <ins class="kakao_ad_area" style="display:none;" 
                data-ad-unit    = "DAN-bfvTipItRLHEkufB" 
                data-ad-width   = "320" 
                data-ad-height  = "50">
            </ins> 
        </div>
        <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
    </div>
    
    <!-- Jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- 스크롤 애니메이션 -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            delay: 200,
            duration: 1000,
            easing: 'ease',
        });
    </script>
    <!-- <script src="https://unpkg.com/scrollbooster@2/dist/scrollbooster.min.js"></script> -->
    <!-- <script>
        const viewport = document.querySelector('.menu .viewport');
        const content = document.querySelector('.menu .content');
        const sb = new ScrollBooster({
            viewport,
            content,
            scrollMode: 'transform',
            direction: 'vertical',
            emulateScroll: true
        });
    </script> -->

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="/js/firebase.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-analytics.js";
        // import { initializeApp } from "firebase/app";
        // import { getFirestore } from "firebase/firestore";
        const firebaseConfig = {
          apiKey: "AIzaSyBsBpJixx7g1-wqUzSTR6LgFzcm0b5eSTo",
          authDomain: "banzia-personal-art-test.firebaseapp.com",
          projectId: "banzia-personal-art-test",
          storageBucket: "banzia-personal-art-test.appspot.com",
          messagingSenderId: "222615310866",
          appId: "1:222615310866:web:3c4882d3148881a4defecb",
          measurementId: "G-847FBTFN0F"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        </script>
    <script>
        // const db = firebase.firestore();
        // db.settings({timestampsInSnapshots: true});
        // db.collection('results').get().then((snapshot) => {
        //     console.log(snapshots.docs);
        // });
    </script>

    <!-- Checkbox -->
    <script src="/js/svgcheckbx.js"></script>

    <script>
        // 스크롤 락
        $("#scrollLock").click(function(){
            $('body').toggleClass('overflow-hidden');
        });

        // 새로고침 방지
        // window.onbeforeunload = function() {
        //     return "페이지를 새로고침하면 저장되지 않은 내용이 사라집니다. 새로고침 하시겠습니까?";
        // };

        // 배경음악 볼륨 조절
        var bgm = document.getElementById("bgm");
        bgm.volume = 0.2;

        // 배경음악 컨트롤
        $('.bgm_ctrl').click(function() {
            if ($(this).hasClass("bgm-on")) {
                bgm.pause();
                $(this).removeClass("bgm-on");
            } else {
                bgm.play();
                $(this).addClass("bgm-on");
            }
        })

        // 답변 저장 배열
        var answers = [];
        
        // 중복 방지
        clicked = false;

        // 다음섹션으로 이동
        function moveToNextSection(thisObj) {
            // 중복 방지
            if ( clicked ) {
                return
            } else {
                clicked = true;
            }

            // 섹션 보이기
            thisObj.closest("section").next().show();
            
            // 섹션 이동
            setTimeout(() => {
                $('html,body').animate({ scrollTop: thisObj.closest("section").next().offset().top}, 200);

                clicked = false;
            }, 1000);

            setTimeout(() => {
                // 섹션 숨기기
                thisObj.closest("section").hide();
            }, 2000);
        }

        // 성향테스트 시작
        $('#start_btn').click(function() {
            bgm.play();
            $('.bgm_ctrl').removeClass('hide');

            $('main').show();
            $('#s1').show();
            setTimeout(() => {
                $('header').hide();
            }, 2000);
        })

        $('.move-to-next').click(function() {
            moveToNextSection($(this));
        })

        // 답변 선택 액션
        $('.q li div').click(function() {

            // 선택한 질문 아이디 가져오기
            var q = $(this).closest('.q').attr("id");
            var a = $(this).attr("class");
            console.log(q, a);

            // 답변 중복 선택 방지
            for (let i = 0; i < answers.length; i++) {
                const answer = answers[i];
                if ( answer.q == q ) {
                    clicked = false;
                    return
                }
            }
            
            // 선택 기록
            answers.push({'q':q, 'a':a});
            console.log(answers);
            
            // 선택 강조
            $('#' + q + ' p').css({"opacity":0});
            $('#' + q + ' h2').css({"opacity":0});
            $('#' + q + ' li div').not(this).css({"opacity":0});
            $(this).addClass("neon_btn neon_text");
            
            // 다음 페이지로
            moveToNextSection($(this));
            markScore();
        })

        $('.menu button').click(function(e) {
            e.preventDefault();
            moveToNextSection($(this));
        })
        

        // 가장 큰 점수를 가진 오브젝트의 키값 가져오기
        function getMaxValueKey(obj) {
            return Object.keys(obj).reduce((a, b) => obj[a] > obj[b] ? a : b);
        }
        // 답변별 점수 받아오기
        $.getJSON("/json/score.json", function(json) {
            scoreChart = json;
        });

        // 답변 제출 액션
        function submit() {
            // 4중 택1
            console.log(scoreChart);
            if (!scoreChart) {
                console.log("error: scoreChart not founded.");
                return
            }

            var scores = {"01":0, "02":0, "03":0, "04":0, "05":0, "06":0, "07":0, "08":0, "09":0, "10":0, "11":0, "12":0, "13":0, "14":0, "15":0, "16":0, "17":0, "18":0}

            for (let i = 0; i < answers.length; i++) {
                const answer = answers[i];
                const q = answer.q;
                const a = answer.a;
                const targets = scoreChart[q][a];
                for (let j = 0; j < targets.length; j++) {
                    const target = targets[j];
                    scores[target] = Number(scores[target]) + 1;
                }
            }


            // 나에게 해당하는 것 선택
            var checkboxes = $('.menu form input[type=checkbox]');
            for (let i = 0; i < checkboxes.length; i++) {
                const checkbox = checkboxes[i];
                if (checkbox.checked) {
                    const target = checkbox.value;
                    scores[target] = Number(scores[target]) + 2;
                }
            }

            // 최고득점 작품 뽑기
            console.log(scores);
            console.log(getMaxValueKey(scores));

            var url = `/result.html?artId=${getMaxValueKey(scores)}`;
            $(location).attr('href', url);
        }

        // 점수판에 점수 표시
        function markScore() {
            if (!scoreChart) {
                console.log("error: scoreChart not founded.");
                return
            }

            var scores = {"01":0, "02":0, "03":0, "04":0, "05":0, "06":0, "07":0, "08":0, "09":0, "10":0, "11":0, "12":0, "13":0, "14":0, "15":0, "16":0, "17":0, "18":0}

            for (let i = 0; i < answers.length; i++) {
                const answer = answers[i];
                const q = answer.q;
                const a = answer.a;
                const targets = scoreChart[q][a];
                for (let j = 0; j < targets.length; j++) {
                    const target = targets[j];
                    scores[target] = Number(scores[target]) + 1;
                }
            }


            // 나에게 해당하는 것 선택
            var checkboxes = $('.menu form input[type=checkbox]');
            for (let i = 0; i < checkboxes.length; i++) {
                const checkbox = checkboxes[i];
                if (checkbox.checked) {
                    const target = checkbox.value;
                    scores[target] = Number(scores[target]) + 2;
                }
            }

            // 점수 마킹
            var arr = Object.keys(scores).sort();
            for (let k = 0; k < arr.length; k++) {
                const key = arr[k];
                const score = scores[key];
                $('#score-board p span').eq(k).html(score);
            }

        }


        // 결과 제출시키기
        $('.last_q li').click(function() {
            console.log('submit');
            $('.wait_text h1').hide();
            setTimeout(function(){
                $('.wait_text h1').fadeIn();
            }, 2000);

            setTimeout(function(){
                submit();
            }, 5000);
        })
    </script>
</body>
</html>